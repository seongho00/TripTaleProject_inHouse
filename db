DROP DATABASE IF EXISTS `TripTale_project`;
CREATE DATABASE `TripTale_project`;
USE `TripTale_project`;

# 게시글 테이블 생성
CREATE TABLE `member` (
	id INT(10) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	regDate DATETIME NOT NULL,
	updateDate DATETIME NOT NULL,
	loginId VARCHAR(30) NOT NULL,
	loginPw VARCHAR(50) NOT NULL,
	`name` VARCHAR(20) NOT NULL,
	email VARCHAR(30) NOT NULL,
	delStatus TINYINT(1) NOT NULL DEFAULT 0,
	delDate DATETIME,
	authLevel SMALLINT(2) NOT NULL DEFAULT 7
	
);


INSERT INTO `member`
SET regDate = NOW(),
updateDate = NOW(),
loginId = 'test1',
loginPw = 'test1',
`name` = '이름1',
email = 'tjoadg@gmail.com';

# 여행 테이블 생성
CREATE TABLE TripInfo (
	id INT(10) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	regDate DATETIME NOT NULL,
	updateDate DATETIME NOT NULL,
	tripName CHAR(30) NOT NULL,
	tripRegion CHAR(10) NOT NULL,
	tripStartDate DATETIME NOT NULL,
	tripEndDate DATETIME NOT NULL,
	memberId INT(10) NOT NULL
);

# 여행 테이블 테스트데이터
INSERT INTO TripInfo
SET regDate = NOW(),
updateDate = NOW(),
tripName = '서울여행',
tripRegion = '서울특별시',
tripStartDate = '2025-06-03',
tripEndDate = '2025-06-05',
memberId = 1;

INSERT INTO TripInfo
SET regDate = NOW(),
updateDate = NOW(),
tripName = '서울여행2',
tripRegion = '서울특별시',
tripStartDate = '2025-06-03 18:00:00',
tripEndDate = '2025-06-05 22:00:00',
memberId = 1;


UPDATE TripInfo
SET updateDate = NOW(),
tripStartDate = '2025-06-06T18:00:00',
tripEndDate = '2025-06-10T22:00:00'
WHERE id = 1 AND memberId = 1;

# 여행 테이블 생성
CREATE TABLE tripLocation (
	id	INT(10)	UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	regDate DATETIME NOT NULL,
	updateDate DATETIME NOT NULL,
	locationName	VARCHAR(50)	NOT NULL,
	locationTypeId	INT(10)	NOT NULL,
	address	VARCHAR(200)	NOT NULL,
	`schedule`	TEXT	NULL,
	`number`	VARCHAR(20)	NULL,
	`profile`	TEXT	NULL,
	star VARCHAR(20)	NOT NULL,
	reviewCount INT(10) NOT NULL
);

INSERT INTO tripLocation
SET regDate = NOW(),
updateDate = NOW(),
locationName = '서서울호수공원',
locationTypeId = 1,
address = '서울 양천구 남부순환로64길 26 신월야구장',
`schedule` = '월',
`number` = '02-2604-3004',
`profile` = '소개 정보 없음',
star = '4.16',
reviewCount = 100;


# 여행 테이블 생성
CREATE TABLE tripLocationPicture (
	id	INT(10)	UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	regDate DATETIME NOT NULL,
	updateDate DATETIME NOT NULL,
	pictureUrl TEXT NOT NULL,
	tripLocationId INT(10) NOT NULL
);

INSERT INTO tripLocationPicture
SET regDate = NOW(),
updateDate = NOW(),
pictureUrl = 'asfjoseg',
tripLocationId = 1;


SELECT *
FROM article

SELECT *
FROM `member`

SELECT *
FROM tripLocation

SELECT *
FROM tripLocationPicture

SELECT *
FROM `member`
WHERE loginId ='test1'
